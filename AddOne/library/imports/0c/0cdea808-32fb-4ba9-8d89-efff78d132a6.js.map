{"version":3,"sources":["../../../../../assets/Script/models/assets/Script/models/GeZi.js"],"names":["config","require","block","module","exports","id","parent","color","cc","num","posx","swidth","gezi_pitch","posy","parseInt","setnum","colorindex","color_list","length","colors","setColor","getAllgz","getAllmask","settoblock","setinfo","setpos","settoblockvalue","draw","ctx","lable","fillColor","roundRect","gezi_size","fill","string","node","x","y"],"mappings":"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","file":"GeZi.js","sourceRoot":"../../../../../assets/Script/models","sourcesContent":["\n/*\n    游戏的基本单元：格子（真实的格子）\n    定义他的数字和颜色，色块的所有者\n    created by gyc on 2018-08-01.\n*/\n\nvar config = require(\"AddOneConfig\")\nvar block =  require(\"GeZiData\")\n\n\nmodule.exports = function(id,parent){\n    // 格子的ID\n    this.id = id;\n    // 格子的颜色\n    this.color = cc.color(0,0,0,0);\n    // 格子现实的的数字\n    this.num = 0;\n    // 格子的容器\n    this.parent = parent;\n    // 格子的x坐标\n    this.posx = (config.swidth - (5 * config.gezi_pitch)) / 2 + (id % 5) * (config.gezi_pitch);\n    // 格子的Y坐标\n    this.posy = 180 + parseInt(id / 5) * (config.gezi_pitch);\n    // 格子的数据层\n    this.block = new block(this);\n    \n    /*\n        调用: 更新Num的时候调用\n        功能: 更新当前的num 并根据num来更新显示的颜色\n        参数: [\n            num: 格子显示的数字\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    this.setnum = function(num){\n        this.num = num;\n        var colorindex = num - 1;\n        if(this.num > config.color_list.length){\n           colorindex = colorindex % config.color_list.length;\n        }\n        let colors = config.color_list[colorindex];\n        var color = cc.color(colors[0],colors[1],colors[2]);\n        this.setColor(color);\n    }\n\n    \n    /*\n        调用: 更新颜色的时候调用\n        功能: 更新当前的颜色值\n        参数: [\n            color:格子需要显示的颜色\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    this.setColor = function(color){\n        this.color = color;\n    }\n    \n    /*\n        调用: GeZiData,GeZi中都有调用\n        功能: 得到游戏的格子容器\n        参数: [\n            无\n        ]\n        返回值:[\n            array:存储格子的数组\n        ]\n        思路: 逻辑需要\n    */\n    this.getAllgz = function(){\n        return this.parent.getAllgz();\n    }\n    \n    /*\n        调用: GeZiData,GeZi中都有调用\n        功能: 得到游戏的mask容器\n        参数: [\n            无\n        ]\n        返回值:[\n            array:存储mask的数组\n        ]\n        思路: 逻辑需要\n    */\n    this.getAllmask= function(){\n        return this.parent.getAllmask();\n    }\n    \n   /*\n        调用: gamemain中调用\n        功能: 更新自身block的数据\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    this.settoblock=function(){\n        this.block.setinfo(this.color,this.num);\n        this.block.setpos(this.posx,this.posy);\n    }\n    \n        \n   /*\n        调用: gamemain中调用\n        功能: 更新自身block的数据\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    this.settoblockvalue=function(){\n        this.block.setinfo(this.color,this.num);\n    }\n    \n        \n   /*\n        调用: gamemain中调用\n        功能: 绘制当前的节点\n        参数: [\n            ctx: 绘制节点的句柄\n            label:显示的label\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    this.draw = function(ctx,lable){\n        ctx.fillColor = this.block.color;\n        ctx.roundRect(this.block.posx,this.block.posy,config.gezi_size,config.gezi_size,8);\n        ctx.fill();\n        lable.string = this.block.num;\n        lable.node.x = this.block.posx-360+config.gezi_size/2;\n        lable.node.y = this.block.posy-640+config.gezi_size/2;\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}