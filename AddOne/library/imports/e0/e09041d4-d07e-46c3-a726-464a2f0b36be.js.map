{"version":3,"sources":["../../../../../assets/Script/models/assets/Script/models/celltile.js"],"names":["cc","Class","extends","Component","properties","cells","default","type","Sprite","number","Label","hide","touchEft","touchEndEft","Node","hcEft","newPlayerEf","renumber","clickcall","visByNum","num","renum","i","length","node","active","string","setColor","color","setClickCall","getReNumber","onLoad","self","on","event","playTouchEndEff","anim","getComponent","Animation","play","playZhEff","console","log","playNewPlayerEff"],"mappings":"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","file":"celltile.js","sourceRoot":"../../../../../assets/Script/models","sourcesContent":["/*\n   游戏中的道具class\n   created by gyc on 2018-08-12.\n   final changed by gyc on 2018-08-15.\n*/ \n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // 格子显示的图片数组\n        cells:{\n            default: [],\n            type: cc.Sprite\n        },\n        // 格子上显示的数字\n        number:{\n            default: null,\n            type: cc.Label\n        },\n         // 格子上显示的数字\n        hide:{\n            default: null,\n            type: cc.Label\n        },\n        // 点击开始的按钮\n        touchEft:{\n            default: null,\n            type: cc.Sprite\n        },\n        // 点击结束的动画\n        touchEndEft:{\n            default: null,\n            type: cc.Node\n        },\n        // 合成的动画\n        hcEft:{\n            default: null,\n            type: cc.Node,\n        },\n        // 新手引导的动画\n        newPlayerEf:{\n            default: null,\n            type:cc.Node,\n        },\n        // 当前显示的数字\n        renumber:0,\n        // 点击回调函数\n        clickcall:null,\n    },\n\n    /*\n        调用: 格子数字变化的时候调用\n        功能: 刷新格子的显示\n        参数: [\n            num: 颜色值下标\n            renum: 真正显示的数字\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    visByNum:function(num,renum){\n        for(var i = 0; i < this.cells.length; i++){\n            if(i == num - 1){\n                this.cells[i].node.active = true;\n            }else{\n                this.cells[i].node.active = false;\n            }\n        }  \n        this.number.string = renum;\n        this.renumber = renum;\n        this.hide.string = renum;\n    },\n \n   \n    /*\n        调用: 格子数字变化的时候调用\n        功能: 刷新格子显示的数字颜色\n        参数: [\n            color: 当前显示数字的颜色\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n   setColor:function(color){\n      this.number.node.color = color;\n      this.hide.node.color = color;\n   },\n  \n   /*\n        调用: 设置格子点击的回调函数\n        功能: 设置格子点击的回调函数\n        参数: [\n            clickcall: 回调函数 type: Function\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    setClickCall:function(clickcall){\n       this.clickcall = clickcall;\n    },\n   \n     /*\n        调用: 逻辑调用\n        功能: 得到当前格子显示的数字\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 系统自带\n    */\n    getReNumber:function(){\n        return this.renumber;\n    },\n    \n    /*\n        调用: 节点加载完成后回调\n        功能: 初始化部分逻辑\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 系统自带\n    */\n    onLoad(){\n        // 设置成屏蔽层\n        var self = this;\n\n        this.node.on('touchstart', function ( event ) {\n            self.touchEft.node.active = true;\n            return false;\n        });\n\n        this.node.on('touchend', function ( event ) {\n            self.touchEft.node.active = false;\n            self.playTouchEndEff();\n            if(self.clickcall != null){\n               self.clickcall();\n            }\n        });\n\n        this.node.on('touchcancel', function ( event ) {\n            self.touchEft.node.active = false;\n        });\n   },\n\n    /*\n        调用: 点击格子结束\n        功能: 播放点击时候的动画\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 系统自带\n    */\n   playTouchEndEff: function(){\n       var anim = this.touchEndEft.getComponent(cc.Animation);\n       anim.play(\"yuan_dh\");\n   },\n\n \n    /*\n        调用: 数字加一组合后\n        功能: 播放组合的动画\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 系统自带\n    */\n   playZhEff: function(){\n       console.log(\"播放合成动画了吗\")\n       var anim = this.hcEft.getComponent(cc.Animation);\n       anim.play(\"yindao_hebing\");\n   },\n\n    /*\n        调用: 新手引导的时候的调用\n        功能: 播放新手引导的圆圈动画\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 系统自带\n    */\n    playNewPlayerEff: function(){\n        console.log(\"播放合成动画了吗\")\n        this.newPlayerEf.active = true;\n        var anim = this.newPlayerEf.getComponent(cc.Animation);\n        anim.play(\"yindao_suofang\");\n    }\n\n    \n});\n"]}