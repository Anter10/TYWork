{"version":3,"sources":["celltile.js"],"names":["cc","Class","extends","Component","properties","cells","default","type","Sprite","number","Label","hide","touchEft","touchEndEft","Node","hcEft","newPlayerEf","renumber","clickcall","visByNum","num","renum","i","length","node","active","string","start","setColor","color","setClickCall","getReNumber","onLoad","self","on","event","playTouchEndEff","anim","getComponent","Animation","play","playZhEff","console","log","playNewPlayerEff"],"mappings":";;;;;;AAAA;;;;AAIAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACAC,eAAM;AACFC,qBAAS,EADP;AAEFC,kBAAMP,GAAGQ;AAFP,SAFE;AAMR;AACAC,gBAAO;AACHH,qBAAS,IADN;AAEHC,kBAAMP,GAAGU;AAFN,SAPC;AAWP;AACDC,cAAK;AACDL,qBAAS,IADR;AAEDC,kBAAMP,GAAGU;AAFR,SAZG;AAgBRE,kBAAS;AACLN,qBAAS,IADJ;AAELC,kBAAMP,GAAGQ;AAFJ,SAhBD;;AAqBRK,qBAAY;AACRP,qBAAS,IADD;AAERC,kBAAMP,GAAGc;AAFD,SArBJ;;AA0BRC,eAAM;AACFT,qBAAS,IADP;AAEFC,kBAAMP,GAAGc;AAFP,SA1BE;AA8BRE,qBAAY;AACRV,qBAAS,IADD;AAERC,kBAAKP,GAAGc;AAFA,SA9BJ;;AAmCRG,kBAAS,CAnCD;AAoCRC,mBAAU;AApCF,KAHP;;AA0CL;;;;;;;;;;;;AAYAC,cAAS,kBAASC,GAAT,EAAaC,KAAb,EAAmB;AACxB,aAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAI,KAAKjB,KAAL,CAAWkB,MAA9B,EAAsCD,GAAtC,EAA0C;AACtC,gBAAGA,KAAKF,MAAM,CAAd,EAAgB;AACZ,qBAAKf,KAAL,CAAWiB,CAAX,EAAcE,IAAd,CAAmBC,MAAnB,GAA4B,IAA5B;AACH,aAFD,MAEK;AACD,qBAAKpB,KAAL,CAAWiB,CAAX,EAAcE,IAAd,CAAmBC,MAAnB,GAA4B,KAA5B;AACH;AACJ;AACD,aAAKhB,MAAL,CAAYiB,MAAZ,GAAqBL,KAArB;AACA,aAAKJ,QAAL,GAAgBI,KAAhB;AACA,aAAKV,IAAL,CAAUe,MAAV,GAAmBL,KAAnB;AACA;AACH,KAlEI;AAmELM,SAnEK,mBAmEE,CAEN,CArEI;;;AAwEL;;;;;;;;;;;AAWDC,cAAS,kBAASC,KAAT,EAAe;AACrB,aAAKpB,MAAL,CAAYe,IAAZ,CAAiBK,KAAjB,GAAyBA,KAAzB;AACA,aAAKlB,IAAL,CAAUa,IAAV,CAAeK,KAAf,GAAuBA,KAAvB;AACF,KAtFK;;AAwFN;;;;;;;;;;;AAWCC,kBAAa,sBAASZ,SAAT,EAAmB;AAC7B,aAAKA,SAAL,GAAiBA,SAAjB;AACF,KArGI;;AAuGLa,iBAAY,uBAAU;AAClB,eAAO,KAAKd,QAAZ;AACH,KAzGI;;AA2GLe,UA3GK,oBA2GG;AACJ;AACA,YAAIC,OAAO,IAAX;;AAEA,aAAKT,IAAL,CAAUU,EAAV,CAAa,YAAb,EAA2B,UAAWC,KAAX,EAAmB;AAC1CF,iBAAKrB,QAAL,CAAcY,IAAd,CAAmBC,MAAnB,GAA4B,IAA5B;AACA,mBAAO,KAAP;AACH,SAHD;;AAKA,aAAKD,IAAL,CAAUU,EAAV,CAAa,UAAb,EAAyB,UAAWC,KAAX,EAAmB;AACxCF,iBAAKrB,QAAL,CAAcY,IAAd,CAAmBC,MAAnB,GAA4B,KAA5B;AACAQ,iBAAKG,eAAL;AACA,gBAAGH,KAAKf,SAAL,IAAkB,IAArB,EAA0B;AACvBe,qBAAKf,SAAL;AACF;AACJ,SAND;;AAQA,aAAKM,IAAL,CAAUU,EAAV,CAAa,aAAb,EAA4B,UAAWC,KAAX,EAAmB;AAC3CF,iBAAKrB,QAAL,CAAcY,IAAd,CAAmBC,MAAnB,GAA4B,KAA5B;AACH,SAFD;AAGJ,KA/HK;;;AAiIN;AACAW,qBAAiB,2BAAU;AACvB,YAAIC,OAAO,KAAKxB,WAAL,CAAiByB,YAAjB,CAA8BtC,GAAGuC,SAAjC,CAAX;AACAF,aAAKG,IAAL,CAAU,SAAV;AACH,KArIK;;AAuIN;AACAC,eAAW,qBAAU;AACjBC,gBAAQC,GAAR,CAAY,UAAZ;AACA,YAAIN,OAAO,KAAKtB,KAAL,CAAWuB,YAAX,CAAwBtC,GAAGuC,SAA3B,CAAX;AACAF,aAAKG,IAAL,CAAU,eAAV;AACH,KA5IK;;AA8IL;AACAI,sBAAkB,4BAAU;AACxBF,gBAAQC,GAAR,CAAY,UAAZ;AACA,aAAK3B,WAAL,CAAiBS,MAAjB,GAA0B,IAA1B;AACA,YAAIY,OAAO,KAAKrB,WAAL,CAAiBsB,YAAjB,CAA8BtC,GAAGuC,SAAjC,CAAX;AACAF,aAAKG,IAAL,CAAU,gBAAV;AACH;;AApJI,CAAT","file":"celltile.js","sourceRoot":"../../../../../assets/Script/models","sourcesContent":["/*\n   游戏中的道具class\n   created by gyc on 2018-08-12.\n*/ \ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // 格子显示的图片数组\n        cells:{\n            default: [],\n            type: cc.Sprite\n        },\n        // 格子上显示的数字\n        number:{\n            default: null,\n            type: cc.Label\n        },\n         // 格子上显示的数字\n        hide:{\n            default: null,\n            type: cc.Label\n        },\n        touchEft:{\n            default: null,\n            type: cc.Sprite\n        },\n\n        touchEndEft:{\n            default: null,\n            type: cc.Node\n        },\n\n        hcEft:{\n            default: null,\n            type: cc.Node,\n        },\n        newPlayerEf:{\n            default: null,\n            type:cc.Node,\n        },\n         \n        renumber:0,\n        clickcall:null,\n    },\n\n    /*\n        调用: 格子数字变化的时候调用\n        功能: 刷新格子的显示\n        参数: [\n            num: 颜色值下标\n            renum: 真正显示的数字\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    visByNum:function(num,renum){\n        for(var i = 0; i < this.cells.length; i++){\n            if(i == num - 1){\n                this.cells[i].node.active = true;\n            }else{\n                this.cells[i].node.active = false;\n            }\n        }  \n        this.number.string = renum;\n        this.renumber = renum;\n        this.hide.string = renum;\n        // 设置字体的颜色\n    },\n    start(){\n         \n    },\n\n   \n    /*\n        调用: 格子数字变化的时候调用\n        功能: 刷新格子显示的数字颜色\n        参数: [\n            color: 当前显示数字的颜色\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n   setColor:function(color){\n      this.number.node.color = color;\n      this.hide.node.color = color;\n   },\n  \n   /*\n        调用: 格子数字变化的时候调用\n        功能: 刷新格子显示的数字颜色\n        参数: [\n            color: 当前显示数字的颜色\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    setClickCall:function(clickcall){\n       this.clickcall = clickcall;\n    },\n   \n    getReNumber:function(){\n        return this.renumber;\n    },\n    \n    onLoad(){\n        // 设置成屏蔽层\n        var self = this;\n\n        this.node.on('touchstart', function ( event ) {\n            self.touchEft.node.active = true;\n            return false;\n        });\n\n        this.node.on('touchend', function ( event ) {\n            self.touchEft.node.active = false;\n            self.playTouchEndEff();\n            if(self.clickcall != null){\n               self.clickcall();\n            }\n        });\n\n        this.node.on('touchcancel', function ( event ) {\n            self.touchEft.node.active = false;\n        });\n   },\n\n   // 播放触摸结束后的动画\n   playTouchEndEff: function(){\n       var anim = this.touchEndEft.getComponent(cc.Animation);\n       anim.play(\"yuan_dh\");\n   },\n\n   // 播放触摸结束后的动画\n   playZhEff: function(){\n       console.log(\"播放合成动画了吗\")\n       var anim = this.hcEft.getComponent(cc.Animation);\n       anim.play(\"yindao_hebing\");\n   },\n\n    // 播放触摸结束后的动画\n    playNewPlayerEff: function(){\n        console.log(\"播放合成动画了吗\")\n        this.newPlayerEf.active = true;\n        var anim = this.newPlayerEf.getComponent(cc.Animation);\n        anim.play(\"yindao_suofang\");\n    }\n\n    \n});\n"]}