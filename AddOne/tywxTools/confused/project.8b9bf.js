__require=function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var h=i==typeof __require&&__require;if(!l&&h)return h(c,!0);if(u)return u(c,!0);throw new Error("Cannot find module '"+a+"'")}}var p=n[a]={exports:{}};t[a][0].call(p[s],function(e){return o(t[a][1][e]||e)},p,p[s],e,t,n,r)}return n[a][s]}var i="function",s="exports";for(var u=i==typeof __require&&__require,a=0;a<r.length;a++)o(r[a]);return o}({AdManager:[function(e,t,n){"use strict";var r="currentAdInfo",i="currentWebPage",s="AdManager",o="adIconBtn",u="clickStatEventType",a="allAdInfoList",f="webpage_url",l="adInfoList",c="adNodeList",h="config_id",p="clickStat",d="clickStatEventTypeClickDirectToMiniGameSuccess",v="length",m="icon_id",g="?from=adcross",y="clickStatEventTypeClickDirectToMiniGameFail",b="weight",w="navigateToMiniProgram ==== complete",E="toappid",S="resetBtnIcon",x="navigateToMiniProgram",T="wx.navigateToMiniProgram success",N="icon_url",C="wx.navigateToMiniProgram fail",k="togame",L="icon_weight",A="retryTimes",O="setContentSize",M="getChildByName",_="stringify",D="height",P="rotateBy",H="SpriteFrame",B="genRandomFirstAdInfo",j="BiLog",F="requestADInfo",I="adIconNode",q=null,R="forEach",U="log",z="width",W="Animation",X="push",V="anim_frame",$="removeComponent",J="SystemInfo",K="adButton",Q="AnimType",G="icon_skip_type",Y="stopAllActions",Z="freshAdIconByTime",et="IsWechatPlatform",tt="release";cc._RF[X](t,"df1eerVKUxFH4z3gDy05qzO",s),tywx[s]={retryTimes:3,AnimType:{STATIC:1,SHAKE:2,FRAME:3},adNodeList:[],allAdInfoList:[],showAd:function(e){var t=new tywx[s].adNodeClass;t[l]=JSON.parse(JSON[_](tywx[s][a])),t.createAdNode(e),tywx[s][c][X](t)},getAdNodeList:function(){return this[c]},getAdInfoList:function(){return this[a]},adNodeClass:function(){this[o]=q,this[r]=q,this[i]=q,this[l]=[]},adNodeObj:{createAdNode:function(e){if(this[B](),console[U](this[r]+"当前的广告ID = "+JSON[_](e)),this[r])if(this[o])this[o].active=!0;else{var t=this;cc.loader.loadRes("prefabs/adNode",function(n,r){var i=cc.instantiate(r);i.position=cc.p(e.x,e.y),t[o]=i,cc.game.addPersistRootNode(i),t[I](),t[o][M](K).on("click",function(){t.onClickAdIconBtn()})})}},genRandomFirstAdInfo:function(){var e=this;if(0!=this[l][v]){var t=[{weight:0,id:"000"}];for(var n in this[l]){var i={weight:parseInt(e[l][n][L]),id:e[l][n][m]};t[X](i)}t.sort(function(e,t){return e[b]>t[b]});var s=0;t[R](function(e){s+=e[b]});var o=parseInt(1e4*Math.random())%(s+1),u=0,a=0;for(n=0;n<t[v]-1;n++)if((u+=t[n][b])<o&&u+t[n+1][b]>=o){a=n+1;break}var f=t[a];this[l][R](function(t){t[m]==f.id&&(e[r]=t)})}},genRandomSecondAdInfo:function(){var e=this,t=this[r].webpages;if(0!=t[v]){var n=[{weight:0,id:"000"}];for(var s in t){var o={weight:parseInt(t[s].webpage_weight),id:t[s][h]};n[X](o)}n.sort(function(e,t){return e[b]>t[b]});var u=0;n[R](function(e){u+=e[b]});var a=parseInt(1e4*Math.random())%(u+1),f=0,l=0;for(s=0;s<n[v]-1;s++)if((f+=n[s][b])<a&&f+n[s+1][b]>=a){l=s+1;break}var c=n[l];t[R](function(t){t[h]==c.id&&(e[i]=t)})}},adIconNode:function(){if(this[r]&&this[o]){var e=this[r].icon_type,t=this,n=this[o][M]("adIcon");this[o][M](K);switch(n[Y](),n[$](cc[W]),n.setRotation(0),tywx[j][p](tywx[u].clickStatEventTypeShowAdBtn,[t[r][m],t[r].icon_type,t[r][G],t[r][E],t[r][k]]),e){case tywx[s][Q].STATIC:cc.loader.load({url:t[r][N][0]},function(e,t){e||(n.getComponent(cc.Sprite).spriteFrame=new cc[H](t),t&&t[z]&&t[D]&&n[O](cc.size(t[z],t[D])))});break;case tywx[s][Q].SHAKE:cc.loader.load({url:t[r][N][0]},function(e,t){n.getComponent(cc.Sprite).spriteFrame=new cc[H](t),t&&t[z]&&t[D]&&n[O](cc.size(t[z],t[D])),n.anchorX=.5,n.anchorY=.5;var r=cc[P](.06,-20),i=cc[P](.12,40),s=cc[P](.12,-40),o=cc[P](.06,20),u=cc.delayTime(1);n.runAction(cc.repeatForever(cc.sequence(r,cc.repeat(cc.sequence(i,s),4),o,u)))});break;case tywx[s][Q].FRAME:var i=[];cc.loader.load(t[r][N],function(e,s){if(e)for(var o=0;o<e[v];o++)cc[U]("Error url ["+e[o]+"]: "+s.getError(e[o]));for(o=0;o<t[r][N][v];o++)if(s.getContent(t[r][N][o])){var u=new cc[H](s.getContent(t[r][N][o]));i[X](u)}(function(){n[Y](),n[$](cc[W]);var e=i[0].getTexture();e&&e[z]&&e[D]&&n[O](cc.size(e[z],e[D]));var t=n.addComponent(cc[W]),r=cc.AnimationClip.createWithSpriteFrames(i,10);r.name=V,r.wrapMode=cc.WrapMode.Loop,t.addClip(r),t.play(V)})()})}}},onClickAdIconBtn:function(){try{this.genRandomSecondAdInfo();var e=this[r][G],t=this[r][E],n=(this[r][k],this[r].path),s=this[r].second_toappid;console[U]("topath ====>"+n);var o=this;if(tywx[j][p](tywx[u].clickStatEventTypeClickAdBtn,[o[r][m],o[r][E],o[r][k]]),wx&&wx[x])return 1==e?void wx[x]({appId:t,path:n||g,envVersion:tt,extraData:{from:n||g},success:function(e){tywx[j][p](tywx[u][d],[o[r][m],o[i][h],o[i][f],o[r][E],o[r][k]]),console[U](T),console[U](e)},fail:function(e){tywx[j][p](tywx[u][y],[o[r][m],o[i][h],o[i][f],o[r][E],o[r][k]]),console[U](C),console[U](e)},complete:function(e){console[U](w),o[S]()}}):void (2==e?wx[x]({appId:s,path:n||g,envVersion:tt,extraData:{from:n||g},success:function(e){tywx[j][p](tywx[u][d],[o[r][m],o[i][h],o[i][f],o[r][E],o[r][k]]),console[U](T),console[U](e)},fail:function(e){tywx[j][p](tywx[u][y],[o[r][m],o[i][h],o[i][f],o[r][E],o[r][k]]),console[U](C),console[U](e)},complete:function(e){o[S](),console[U](w)}}):console.error("Unsupported skip type! Please Check!"));if(!this[i])return;console[U]("当前要预览的图============》"+o[i][f]),tywx[j][p](tywx[u].clickStatEventTypeClickShowQRCode,[o[r][m],o[i][h],o[i][f],o[r][E],o[r][k]]),tywx[et]()&&wx.previewImage({current:[o[i][f]],urls:[o[i][f]],success:function(e){tywx.LOGD(q,"预览图片成功！")},fail:function(e){tywx.LOGD(q,"预览图片失败！")},complete:function(e){console[U]("预览图片完成"),o[S]()}})}catch(e){tywx.LOGE("error:","tywx.AdManager.onClickAdIconBtn——"+JSON[_](e))}},resetBtnIcon:function(){this[o]&&(this[B](),this[I]())},onForeGround:function(){this[I]()},showAdNode:function(){this[o]&&this[o]&&(this[o].active=!0)},hideAdNode:function(){this[o]&&this[o]&&(this[o].active=!1)}},requestADInfo:function(){try{if(!tywx[et]())return;this[A]--;var e={},t=(new Date).getTime();e.act="api.getCrossConfig",e.time=t,e.game_mark=tywx[J].cloudId+"-"+tywx[J].gameId;var n=this.getConfigSignStr(e),r=[];for(var i in e)r[X](i+"="+e[i]);r[X]("sign="+n);var s=tywx[J].shareManagerUrl+"?"+r.join("&"),o=this;console[U]("广告信息地址 = "+s),wx.request({url:s,method:"GET",success:function(e){if(200==e.statusCode){var t=e.data;if(o[a]=[],t.retmsg)for(var n in t.retmsg){var r=t.retmsg[n];void 0==r[L]&&(r[L]=0),Math.floor(r[L])>.1&&o[a][X](r)}}else o[A]>0?o[F]():o[A]=3},fail:function(e){o[A]>0?o[F]():o[A]=3}})}catch(e){tywx.LOGE("error:","tywx.AdManager.requestADInfo——"+JSON[_](e))}},freshAdIconByTime:function(){if(0!=tywx[s][c][v])for(var e=0;e<tywx[s][c][v];e++){var t=tywx[s][c][e];t&&t[S]&&t[S]()}},startFreshAdIcon:function(){for(var e=10,t=0;t<this[a][v];t++){var n=this[a][t].icon_interval;if(n){e=parseInt(n)>0?parseInt(n):e;break}}tywx.Timer.cancelTimer(cc.director,tywx[s][Z]),tywx.Timer.setTimer(cc.director,tywx[s][Z],e,cc.macro.REPEAT_FOREVER,e)},onForeGround:function(){for(var e=0;e<this[c][v];e++){var t=this[c][e];t&&t.onForeGround&&t.onForeGround()}this.startFreshAdIcon()},getConfigSignStr:function(e){for(var t=Object.keys(e).sort(),n="",r=0;r<t[v];r++){var i=t[r];"act"!=i&&"sign"!=i&&(n+=i+"="+e[i])}return tywx.hex_md5("market.tuyoo.com-api-"+n+"-market.tuyoo-api")||""}},tywx[s].adNodeClass.prototype=tywx[s].adNodeObj,tywx[s][F](),cc._RF.pop()},{}],AddOneConfig:[function(e,t,n){"use strict";cc._RF.push(t,"7c2dbJUdiZLmIzaqT+PBih/","AddOneConfig"),t.exports={gezi_size:132,gezi_pitch:140,move_time:.3,swidth:720,sheight:1280,maxphy_value:5,geziNumber:25,minCanRemoveNumber:3,baseScore:10,lianjiEffects:{sgood:3,cgood:6,bgood:10,maxgood:15},showphy_pros:{width:130,height:40,radius:6,phy_num:5,colors:[[255,0,0],[255,165,0],[255,255,0],[0,255,0],[0,127,255],[0,0,255],[139,0,255]]},color_list:[[233,85,56],[255,128,64],[44,175,219],[165,198,31],[23,177,167],[0,128,0],[0,0,128],[128,0,0],[128,64,32],[128,0,128],[32,32,32]],gameState:{checkclick:1,domove:2,dodrop:3,waitclick:4,gameover:5}},cc._RF.pop()},{}],Audio:[function(e,t,n){"use strict";var e="audioState",r="audioSource";cc._RF.push(t,"20442ihUflFKaQJxOXGGXzI","Audio"),cc.Class({"extends":cc.Component,properties:{audioSource:{type:cc.AudioSource,"default":null},audioState:1},onLoad:function(){cc.audioEngine.setMaxWebAudioSize(10240)},controlAudio:function(){1==this[e]?(this.pause(),this[e]=0):0==this[e]&&(this.play(),this[e]=1)},play:function(){this[r].play()},pause:function(){this[r].pause()},stop:function(){this[r].stop()},resume:function(){this[r].resume()},changeButtonTexture:function(){0==this[e]||1==this[e]||console.log("状态不对")}}),cc._RF.pop()},{}],BiStatLog:[function(e,t,n){"use strict";var r="BiStatLog",n="function",i="symbol",s="BiStatInfo",o="getLocationInfo",u="getSystemInfo",a="SystemInfo",f="intClientId",l="userId",c="networkType",h="pixelRatio",p="screenWidth",d="screenHeight",v="windowWidth",m="windowHeight",g="fontSizeSetting";cc._RF.push(t,"90a3eZ8TQtA5bHoh6KlWkIU",r);var y=n==typeof Symbol&&i==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&n==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?i:typeof e};tywx[r]={BiStatInfo:null,init:function(){this[s]={},this.getStaticInfo(),this.getTyInfo(),this[o](),this[u]()},getStaticInfo:function(){this[s].IP="#IP",this[s].receiveTime="#receiveTime"},getTyInfo:function(){this[s].cloudId=tywx[a].cloudId,this[s].gameId=tywx[a].gameId,this[s].appId=tywx[a].appId,this[s].clientId=tywx[a].clientId,this[s][f]=tywx[a][f],this[s][l]=tywx.UserInfo[l],this[s].uuid=tywx.Util.getLocalUUID(),this[s].gameVersion=tywx[a].version,this[s].wxAppId=tywx[a].wxAppId},getUserId:function(){this[s][l]=tywx.UserInfo[l]},getNetworkType:function(){this[s][c]=tywx.StateInfo[c]},getLocationInfo:function(e){var t=this;wx.getLocation({type:"wgs84",success:function(e){t[s].latitude=e.latitude,t[s].longitude=e.longitude,t[s].speed=e.speed,t[s].accuracy=e.accuracy},complete:function(){e()}})},getSystemInfo:function(){var e=this;wx[u]({success:function(t){e[s].brand=t.brand,e[s].model=t.model,e[s][h]=t[h],e[s][p]=t[p],e[s][d]=t[d],e[s][v]=t[v],e[s][m]=t[m],e[s].language=t.language,e[s].wxVersion=t.version,e[s].systemVersion=t.system,e[s].platform=t.platform,e[s].wxSDKVersion=t.SDKVersion,e[s][g]=t[g]}})},sendEvent:function(e,t){"object"!=(void 0===t?"undefined":y(t))&&(t={}),this.getNetworkType(),this.getUserId(),this[s].eventId=e,this[s].eventParams=t,this[s].eventTime=Date.now().valueOf(),this[o](function(){var e=JSON.stringify(tywx[r][s]),t={url:tywx[a].biLogServer,headers:["Content-Type:text/plain"],postData:e};tywx.HttpUtil.httpPost(t)})}},cc._RF.pop()},{}],Bilog:[function(e,t,n){"use strict";var r="SystemInfo",i="Content-Type:text/plain",s=null,o="POST",u="0",a="receive_time",f="nettype",l="phone_maker",c="phone_model",h="phone_carrier",p="	";cc._RF.push(t,"a45feWlbRdJCJl38fZtQxK0","Bilog"),tywx.clickStatEventType={clickStatEventTypeUserFrom:99990001,clickStatEventTypeUserShare:99990002,clickStatEventTypeShowAdBtn:99990003,clickStatEventTypeClickShowQRCode:99990004,clickStatEventTypeClickAdBtn:99990007,clickStatEventTypeClickDirectToMiniGameSuccess:99990005,clickStatEventTypeClickDirectToMiniGameFail:99990006,clickStatEventTypeSubmitVersionInfo:9999,clickStatEventTypeWxLoginStart:10001,clickStatEventTypeWxLoginSuccess:10002,clickStatEventTypeWxLoginFailed:10003,clickStatEventTypeAuthorizationStart:10004,clickStatEventTypeAuthorizationSuccess:10005,clickStatEventTypeAuthorizationFailed:10006,clickStatEventTypeLoginSDKStart:10007,clickStatEventTypeLoginSDKSuccess:10008,clickStatEventTypeLoginSDKFailed:10009,clickStatEventTypeTCPStart:10010,clickStatEventTypeTCPSuccess:10011,clickStatEventTypeTCPFailed:10012},tywx.BiLog={uploadLogTimely:function(e){if(tywx.StateInfo.networkConnected){if(e){var t={url:tywx[r].errorLogServer+"?cloudname="+tywx[r].cloudId+"."+tywx[r].intClientId,header:[i],postData:e,callback:s};tywx.HttpUtil.httpPost(t,o)}}else tywx.LOGD("tywx.BiLog","net error!")},getSystemInfo:function(){this.cloud_id=tywx[r].cloudId,this.rec_type="1",this.rec_id=u,this[a]=u,this.user_id=tywx.UserInfo.userId||u,this.game_id=tywx[r].gameId,this.client_id=tywx[r].clientId,this.device_id=tywx.Util.getLocalUUID(),this.ip_addr="#IP",this[f]=u,this[l]=u,this[c]=tywx.UserInfo.model,this[h]=u,this.reserved=u},uploadClickStatLogTimely:function(e){if(void 0!=e&&""!=e)var t={url:tywx[r].biLogServer,headers:[i],postData:e,obj:this,tag:s,callback:s};tywx.HttpUtil.httpPost(t,o)},clickStat:function(e,t){var n=[];if((t=t||[]).length<10)for(var r=0;r<9;r++)r<t.length?n.push(t[r]):n.push(0);else n=t;tywx.LOGD("BI打点","eventid= "+e+" 描述 = "+JSON.stringify(n));var i=this.assemblelog(e,n);this.uploadClickStatLogTimely(i+"\n")},assemblelog:function(e,t){var n=(new Date).getTime();n-this._timetag>6e4&&(this._timetag=n,this[f]=0);var r=t.join(p);this.getSystemInfo();var i=this.cloud_id+p+this.rec_type+p+n+p+this.rec_id+p+this[a]+p+e+p+this.user_id+p+this.game_id+p+this.client_id+p+this.device_id+p+this.ip_addr+p+this[f]+p+this[l]+p+this[c]+p+this[h]+p+r+p+this.reserved;return this.trimTab0(i)},trimTab0:function(e){return s==e||void 0==e?"":e.replace(/(\t0)*$/,"")}},cc._RF.pop()},{}],Effect:[function(e,t,n){"use strict";cc._RF.push(t,"5ac62QVqmtLEaM3z/RAOb1S","Effect"),e("AddOneConfig");var r=cc.Class({name:"node","extends":cc.Component,properties:{label:{"default":null,type:cc.Label}},onLoad:function(){tywx.Timer.setTimer(this,this.remove,5),this.label.string="0"},remove:function(){this.node.destroy()},ctor:function(e){},update:function(e){}});t.exports=r,cc._RF.pop()},{AddOneConfig:"AddOneConfig"}],EncodeDecode:[function(e,t,n){"use strict";var r="EncodeDecode",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="length",o="charCodeAt",u="charAt",a="indexOf",f="fromCharCode";cc._RF.push(t,"212c6G8muNL3I6ehD5SwKBE",r),tywx[r]={base64Encode:function(e){for(var t,n,a,f,l,c,h,d=i,g="",y=0,b=(e=tywx[r].utf8Encode(e))[s];y<b;)f=(t=e[o](y++))>>2,l=(3&t)<<4|(n=e[o](y++))>>4,c=(15&n)<<2|(a=e[o](y++))>>6,h=63&a,isNaN(n)?c=h=64:isNaN(a)&&(h=64),g=g+d[u](f)+d[u](l)+d[u](c)+d[u](h);return g},base64Decode:function(e){for(var t,n,r,o,f,l,c=i,h=0,d=(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""))[s],v=[];h<d;)t=c[a](e[u](h++))<<2|(o=c[a](e[u](h++)))>>4,n=(15&o)<<4|(f=c[a](e[u](h++)))>>2,r=(3&f)<<6|(l=c[a](e[u](h++))),v.push(t),64!=f&&v.push(n),64!=l&&v.push(r);return v},utf8Encode:function(e){for(var t="",n=0,r=(e=e.replace(/\r\n/g,"\n"))[s];n<r;n++){var i=e[o](n);i<128?t+=String[f](i):i>127&&i<2048?(t+=String[f](i>>6|192),t+=String[f](63&i|128)):(t+=String[f](i>>12|224),t+=String[f](i>>6&63|128),t+=String[f](63&i|128))}return t},utf8Decode:function(e){for(var t,n="",r=0,i=t=0,o=e[s];r<o;)(i=e[r])<128?(n+=String[f](i),r++):i>191&&i<224?(t=e[r+1],n+=String[f]((31&i)<<6|63&t),r+=2):(t=e[r+1],c3=e[r+2],n+=String[f]((15&i)<<12|(63&t)<<6|63&c3),r+=3);return n}},cc._RF.pop()},{}],EventType:[function(e,t,n){"use strict";cc._RF.push(t,"8800fILNG5HRYmeMOw2+z72","EventType"),tywx.EventType={TCP_ERROR:"tcp_error",TCP_CLOSE:"tcp_close",TCP_OPENED:"tcp_opened",TCP_RECONNECT:"tcp_reconnect",TCP_RECEIVE:"tcp_receive",SDK_LOGIN_SUCCESS:"sdk_login_success",SDK_LOGIN_FAIL:"sdk_login_fail",WEIXIN_LOGIN_SUCCESS:"weixin_login_success",WEIXIN_LOGIN_FAIL:"weixin_login_fail",GET_USER_FEATURE_SUCCESS:"GET_USER_FEATURE_SUCCESS",GET_USER_FEATURE_FAIL:"GET_USER_FEATURE_FAIL",GET_SHARE_CONFIG_SUCCESS:"GET_SHARE_CONFIG_SUCCESS",GET_SHARE_CONFIG_FAIL:"GET_SHARE_CONFIG_FAIL",GET_OPEN_DATA_RESULT_SUCCESS:"GET_OPEN_DATA_RESULT_SUCCESS",GET_OPEN_DATA_RESULT_FAIL:"GET_OPEN_DATA_RESULT_FAIL",GET_OPEN_DATA_RESULT_TIMEOUT:"GET_OPEN_DATA_RESULT_TIMEOUT",SEND_HEART_BEAT:"SEND_HEART_BEAT",GAME_SHOW:"GAME_SHOW",GAME_HIDE:"GAME_HIDE",START_AUTHORIZATION_SUCCESS:"START_AUTHORIZATION_SUCCESS",START_AUTHORIZATION_FAILED:"START_AUTHORIZATION_FAILED"},cc._RF.pop()},{}],GeZiData:[function(e,t,n){"use strict";var r="posx",i="posy",s="destx",o="desty",u="actiontime_keep",a="speed_keep",f="id_keep",l="id_dest",c="parent",h="speedx",p="speedy",d="actiontime",v="effectid",m="effecttime",g="adjustmove",y="getAllgz",b="node",w="gezi_size",E="active";cc._RF.push(t,"3d097Vg8K9IEY9dJK6ESEnd","GeZiData");var S=e("AddOneConfig");t.exports=function(e){this.color=null,this.num=0,this[r]=0,this[i]=0,this[s]=0,this[o]=0,this[u]=0,this[a]=0,this[f]=-1,this[l]=-1,this[c]=e,this[h]=0,this[p]=0,this[d]=0,this[v]=-1,this[m]=0,this.setinfo=function(e,t){this.color=e,this.num=t},this.setpos=function(e,t){this[r]=e,this[i]=t},this.setspeed=function(e,t,n){this[h]=e,this[p]=t,this[d]=n},this.setdest=function(e,t){this[s]=e,this[o]=t},this[g]=function(){if(-1!=this[l]){this[d]=this[u];var e=this[l]-this[f];1==e?(this[h]=this[a],this[p]=0):5==e?(this[h]=0,this[p]=this[a]):-1==e?(this[h]=-this[a],this[p]=0):-5==e&&(this[h]=0,this[p]=-this[a]),this[s]=this[c][y]()[this[l]][r],this[o]=this[c][y]()[this[l]][i]}},this.adjustdrop=function(){-1!=this[l]&&(this[d]=S.move_time,this[h]=0,this[p]=-this[a],this[s]=this[c][y]()[this[l]][r],this[o]=this[c][y]()[this[l]][i])},this.tickmove=function(e){this[d]>0&&(this[d]-=e,this[r]+=this[h]*e,this[i]+=this[p]*e,this[d]<=0&&(this[r]=this[s],this[i]=this[o],this[h]=0,this[p]=0,this[f]=this[l],this[l]=this[c].getAllmask()[this[l]].from,this[g]()))},this.tickeffect=function(e,t,n){this[v]>=0&&this[m]>0&&(0==this[v]?(t[b].x=this[r]+S[w]/2,t[b].y=this[i]+S[w]/2,t[b].setRotation(720*this[m]),0==t[b][E]&&(t[b][E]=!0)):1==this[v]&&(n[b].x=this[r]+S[w]/2,n[b].y=this[i]+S[w]/2,n[b].setScale(1-this[m]),0==n[b][E]&&(n[b][E]=!0)),this[m]-=e,this[m]<=0&&(this[m]=0,1==t[b][E]&&0==this[v]&&(t[b][E]=!1),1==n[b][E]&&1==this[v]&&(n[b][E]=!1),this[v]=-1))}},cc._RF.pop()},{AddOneConfig:"AddOneConfig"}],GeZiMask:[function(e,t,n){"use strict";cc._RF.push(t,"822d8Kg5aNMzZtrXCJqyo4w","GeZiMask"),t.exports=function(e,t){this.id=e,this.parent=t;var n=this.parent.getAllgz()[e];this.num=n.num,this.x=this.id%5,this.y=parseInt(this.id/5),this.from=-1,this.step=999,this.reset=function(){var e=this.parent.getAllgz()[this.id];this.num=e.num,this.x=this.id%5,this.y=parseInt(this.id/5),this.from=-1,this.step=999}},cc._RF.pop()},{}],GeZi:[function(e,t,n){"use strict";var r="color",i="parent",s="gezi_pitch",o="block",u="color_list",a="getAllmask",f="gezi_size";cc._RF.push(t,"0cdeagIMvtLqY2J7/940TKm","GeZi");var l=e("AddOneConfig"),c=e("GeZiData");t.exports=function(e,t){this.id=e,this[r]=cc[r](0,0,0,0),this.num=0,this[i]=t,this.posx=(l.swidth-5*l[s])/2+e%5*l[s],this.posy=180+parseInt(e/5)*l[s],this[o]=new c(this),this.setnum=function(e){this.num=e;var t=e-1;this.num>l[u].length&&(t%=l[u].length);var n=l[u][t],i=cc[r](n[0],n[1],n[2]);this.setColor(i)},this.setColor=function(e){this[r]=e},this.getAllgz=function(){return this[i].getAllgz()},this[a]=function(){return this[i][a]()},this.settoblock=function(){this[o].setinfo(this[r],this.num),this[o].setpos(this.posx,this.posy)},this.settoblockvalue=function(){this[o].setinfo(this[r],this.num)},this.draw=function(e,t){e.fillColor=this[o][r],e.roundRect(this[o].posx,this[o].posy,l[f],l[f],8),e.fill(),t.string=this[o].num,t.node.x=this[o].posx-360+l[f]/2,t.node.y=this[o].posy-640+l[f]/2}},cc._RF.pop()},{AddOneConfig:"AddOneConfig",GeZiData:"GeZiData"}],HttpUtil:[function(e,t,n){"use strict";var r="HttpUtil",i="IsWechatPlatform",s="statusCode",o="data",u="/api/bilog5/clientlog",a="LOGD",f="ty.HttpUtil.httpPost",l="statusCode:",c="post error! ",h="error:",p="stringify",d="ty.HttpUtil.httpGet";cc._RF.push(t,"fd871GUm15FYrW6yO2GJk+Z",r),tywx[r]={httpPost:function(e,t){try{tywx[i]()&&wx.request({url:e.url,data:e.postData,header:e.header,method:"POST",dataType:"json",success:function(e){200==e[s]?e[o]&&e[o].hasOwnProperty(u)&&"ok"==e[o][u]&&tywx[a](f,"post success! "):tywx[a](f,l+e[s])},fail:function(t){tywx[a](f,c+e.url)}})}catch(e){tywx.LOGE(h,"tywx.HttpUtil.httpPost——"+JSON[p](e))}},httpGet:function(e,t,n){try{tywx[i]()&&(tywx[a](d,"url:"+e.url),wx.request({url:e.url,method:"GET",success:function(e){200==e[s]?(tywx[a](d,"res:"+JSON[p](e[o])),t&&t(e[o])):tywx[a](d,l+e[s])},fail:function(t){tywx[a](d,c+e.url),n&&n(t)}}))}catch(e){tywx.LOGE(h,"tywx.HttpUtil.httpGet——"+JSON[p](e))}}},cc._RF.pop()},{}],NotificationCenter:[function(e,t,n){"use strict";var r="NotificationCenter",i="events";cc._RF.push(t,"44a10uteLtK17QgCpRYbmPO",r),console.log("NotificationCenter loaded"),tywx[r]={events:{},listen:function(e,t,n){this[i][e]=this[i][e]||[],this[i][e].push({scope:n||this,handler:t})},ignore:function(e,t,n){n=n||this;var r=this[i][e];r&&(this[i][e]=r.filter(function(e){return e.scope!=n||e.handler!=t}))},ignoreScope:function(e){for(var t in this[i]){var n=this[i][t];n&&(this[i][t]=n.filter(function(n){return n.scope!=e||(tywx.LOGD("tywx.NotificationCenter","ty.NotificationCenter : remove listener by Scope: "+t),!1)}))}},trigger:function(e,t){tywx.LOGD("EventTrigger",e);var n=this[i][e];if(n)for(var r,o=0;o<n.length;o++)(r=n[o]).handler.call(r.scope,t)}},cc._RF.pop()},{}],PropagateInterface:[function(e,t,n){"use strict";var r="push",i="PropagateInterface",s="function",o="symbol",u="undefined",a="getTime",f="api.getShareConfig",l="cloudId",c="SystemInfo",h="gameId",p="getConfigSignStr",d="=",v="sign=",m="shareManagerUrl",g="httpGet",y="HttpUtil",b="retmsg",w="trigger",E="NotificationCenter",S="GET_SHARE_CONFIG_SUCCESS",x="EventType",T="GET_SHARE_CONFIG_FAIL",N="_cachedShareConfig",C="_pendingFlag",k="_shuffleByWeights",L="length";cc._RF[r](t,"f84e67jMaRKho5zRhizuHUj",i);var A=s==typeof Symbol&&o==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&s==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?o:typeof e};tywx[i]={ShareConfig:{},getShareConfigInfo:function(e){"object"!=(void 0===e?u:A(e))&&(e={});var t=(new Date)[a]();e.act=f,e.time=t,e.game_mark=tywx[c][l]+"-"+tywx[c][h];var n=this[p](e),s=[];for(var o in e)s[r](o+d+e[o]);s[r](v+n);var N=tywx[c][m]+"?"+s.join("&");tywx[y][g]({url:N},function(e){for(var t in tywx.LOGE("GET_SHARE_CONFIG_INFO_SUCCESS",JSON.stringify(e)),e[b])tywx[i].ShareConfig[t]=e[b][t];tywx[E][w](tywx[x][S],e)},function(e){tywx.LOGE("GET_SHARE_CONFIG_INFO_FAIL",JSON.stringify(e)),tywx[E][w](tywx[x][T],e)})},_cachedShareConfig:void 0,_pendingFlag:!1,getShareConfigInfoAutoWeight:function(){void 0==this[N]?this[C]=!0:tywx[E][w](tywx[x][S],this[k]())},_doHttpGetShareConfig:function(){var e={},t=(new Date)[a]();e.act=f,e.time=t,e.game_mark=tywx[c][l]+"-"+tywx[c][h];var n=this[p](e),i=[];for(var s in e)i[r](s+d+e[s]);i[r](v+n);var o=tywx[c][m]+"?"+i.join("&"),L=this;tywx[y][g]({url:o},function(e){L[N]=e[b],L[C]&&(tywx[E][w](tywx[x][S],L[k]()),L[C]=!1)},function(e){L[C]&&(tywx[E][w](tywx[x][T],e),L[C]=!1);var t=function(){L._doHttpGetShareConfig()};u!=typeof cc&&cc.director?tywx.Timer.setTimer(cc.director,t,10,0,0):setTimeout(t,1e4)})},_shuffleByWeights:function(){var e={};for(var t in this[N])if("shareExt"!=t){var n=this[N][t];if(0==n[L])e[t]={};else if(1==n[L])e[t]=n[0];else for(var r=n.reduce(function(e,t){return e+t.weight},0),i=Math.random()*r,s=0;s<n[L];s++)if((i-=n[s].weight)<=0){e[t]=n[s];break}}return e},getUserFeatureInfo:function(){var e={},t=(new Date)[a]();e.act="api.getUserFeature",e.cloud_id=tywx[c][l],e.game_id=tywx[c][h],e.user_id=tywx.UserInfo.userId,e.time=t;var n=this[p](e),i=[];for(var s in e)i[r](s+d+e[s]);i[r](v+n);var o=tywx[c][m]+"?"+i.join("&");tywx[y][g]({url:o},function(e){tywx[E][w](tywx[x].GET_USER_FEATURE_SUCCESS,e)},function(e){tywx[E][w](tywx[x].GET_USER_FEATURE_FAIL,e)})},getConfigSignStr:function(e){for(var t=Object.keys(e).sort(),n="",r=0;r<t[L];r++){var i=t[r];"act"!=i&&"sign"!=i&&(n+=i+d+e[i])}return tywx.hex_md5("market.tuyoo.com-api-"+n+"-market.tuyoo-api")||""}},cc._RF.pop()},{}],ShareButton:[function(e,t,n){"use strict";var r="successCallBack",i="errorCallBack",n="shareGroupCallBack",s="ShareInterface",o="stringify",u="shareTickets";cc._RF.push(t,"2fada/8fPBHRZzD6uWmYAck","ShareButton"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.data={}},start:function(){},setShareData:function(e){this.data=e},setSuccessCall:function(e){this[r]=e},setErrorCall:function(e){this[i]=e},setShareGroupCall:function(e){this[n]=e},shareMiniApp:function(){var e=this;if(tywx.IsWechatPlatform()){window.wx.showShareMenu({withShareTicket:!0});var t=tywx[s].getRandomOnShareAppMessageInfo();console.log("msg = "+JSON[o](t)),t&&tywx[s].share(t.title,t.imageUrl,t.sharePointId,t.shareSchemeId,function(t){console.log("分享成功后的数据"+JSON[o](t)),void 0!=t[u]&&t[u].length>0&&e[n]&&e[n](t),e[r]&&e[r](t)},null,function(e){console.log("分享成功后的数2据"+JSON[o](e)),this[i]&&this[i](e)})}}}),cc._RF.pop()},{}],ShareInterface:[function(e,t,n){"use strict";var r="ShareInterface",i=null,s="OnShareAppMessageInfo",o="_cachedShareConfig",u="PropagateInterface",a="length",f="sharePointId",l="shareSchemeId",c="IsWechatPlatform",h="clickStat",p="BiLog",d="clickStatEventTypeUserShare",v="clickStatEventType",m="inviteCode=",g="UserInfo",y="&sourceCode=",b="&inviteName=",w="&imageType=",E="error:",S="tywx.ShareInterface.share——",x="onShareAppMessageInit";cc._RF.push(t,"3c75dKqoYpHWK7HVXbWXGeV",r),tywx[r]={OnShareAppMessageInfo:i,setOnShareAppMessageInfo:function(e,t,n,r){this[s]={title:e,imageUrl:t,sharePointId:n,shareSchemeId:r}},getOnShareAppMessageInfo:function(){return this[s]},getRandomOnShareAppMessageInfo:function(){var e=[];for(var t in tywx[u][o])e.push(t);if(e&&e[a]>0){var n=Math.floor(1e4*Math.random())%e[a],r=e[n],s=tywx[u][o][r];if(s&&s[a]>0)return{title:s[n=Math.floor(1e4*Math.random())%s[a]].shareContent,imageUrl:s[n].sharePicUrl,sharePointId:s[n][f],shareSchemeId:s[n][l]}}return i},share:function(e,t,n,r,i,s,o){try{tywx[c]()&&(tywx[p][h](tywx[v][d],[n,1,r]),wx.shareAppMessage({title:e,imageUrl:t,query:m+tywx[g].userId+y+n+b+tywx[g].userName+w+r+"&extraInfo="+(o||""),success:function(e){i&&i(e),tywx[p][h](tywx[v][d],[n,2,r])},fail:function(e){s&&s(e)},complete:function(){}}))}catch(e){tywx.LOGE(E,S+JSON.stringify(e))}}},tywx[x]=function(){try{tywx[c]()&&wx.onShareAppMessage(function(e){var t=tywx[r].getOnShareAppMessageInfo();return i==t&&(t=tywx[r].getRandomOnShareAppMessageInfo()),tywx[p][h](tywx[v][d],[t[f],1,t[l]]),{title:t.title,imageUrl:t.imageUrl,query:m+tywx[g].userId+y+t[f]+b+tywx[g].userName+w+t[l],success:function(e,n){tywx[p][h](tywx[v][d],[t[f],2,t[l]])},fail:function(){},complete:function(){}}})}catch(e){tywx.LOGE(E,S+JSON.stringify(e))}},tywx[x](),cc._RF.pop()},{}],TCPClient:[function(e,t,n){"use strict";var r="TCPClient",i="tickCount",s="connectStatus",o="CONNECT_STATUS_OK",u="trigger",a="NotificationCenter",f="EventType",l="isTimerInited",c="timerSchedule",h="clickStat",p="clickStatEventType",d="CONNECT_STATUS_OPENING",v="IsWechatPlatform",m="LOGD",g="CONNECT_STATUS_FAIL",y="isOnForeground",b="length",w="filterCmds",E="error:",S="stringify",x="EncodeDecode",T="closeSocket";cc._RF.push(t,"1c7992Uy+xGQqrj2j6qnISd",r),tywx[r]={TAG:"TCP client",CONNECT_STATUS_OK:1,CONNECT_STATUS_OPENING:2,CONNECT_STATUS_CLOSING:3,CONNECT_STATUS_FAIL:0,connectStatus:0,isTimerInited:!1,tickCount:0,filterCmds:["heart_beat"],timerSchedule:function(){tywx[r][i]=(tywx[r][i]+1)%3,2==tywx[r][i]&&tywx[r][s]==tywx[r][o]&&tywx[a][u](tywx[f].SEND_HEART_BEAT),tywx[r].reconnet()},startCheckTimer:function(){tywx[r][l]=!0,tywx.Timer.setTimer(cc.director,this[c],1)},stopCheckTimer:function(){tywx[r][l]=!1,tywx.Timer.cancelTimer(cc.director,this[c])},connect:function(e){tywx.BiLog[h](tywx[p].clickStatEventTypeTCPStart,[e]),tywx[r][s]!=tywx[r][d]&&tywx[r][s]!=tywx[r][o]&&(tywx[r][s]=tywx[r][d],tywx[v]()&&this.doWechatConnect(e))},doWechatConnect:function(e){try{if(!tywx[v]())return;wx.connectSocket({url:e}),wx.onSocketOpen(function(t){tywx[m](tywx[r].TAG,"TCP webSocket opened..."),tywx[r][s]=tywx[r][o],tywx[a][u](tywx[f].TCP_OPENED),tywx.BiLog[h](tywx[p].clickStatEventTypeTCPSuccess,[e]),tywx[r][l]||tywx[r].startCheckTimer()}),wx.onSocketError(function(t){tywx[m](tywx[r].TAG,"TCP webSocket error..."),tywx.BiLog[h](tywx[p].clickStatEventTypeTCPFailed,[e]),tywx[r][s]=tywx[r][g],tywx[a][u](tywx[f].TCP_ERROR)}),wx.onSocketClose(function(e){tywx[m](tywx[r].TAG,"WebSocket 已关闭！"),tywx[r][s]=tywx[r][g],tywx[a][u](tywx[f].TCP_CLOSE)}),wx.onSocketMessage(function(e){if(tywx.StateInfo[y]){var t=tywx[r].decodeMessage(e.data);if(null!=t&&"0000"!=t){var n="[Receive TCP Msg]: "+unescape(t.replace(/\\u/gi,"%u")),i=t.substr(0,t[b]-0);if(null!=i&&i[b]>0){var s=JSON.parse(i);-1==tywx[r][w].indexOf(s.cmd)&&tywx[m](tywx[r].TAG,n),tywx[a][u](tywx[f].TCP_RECEIVE,s)}}}})}catch(e){tywx.LOGE(E,"tywx.TCPClient.doWechatConnect——"+JSON[S](e))}},decodeMessage:function(e){if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){for(var t=new Uint8Array(e),n="",r=0,i=t[b];r<i;r++)n+=String.fromCharCode(t[r]);return n}var s=(e=tywx[x].base64Decode(e)).slice(0,4);for(r=0,i=(e=e.slice(4))[b];r<i;r++){var o=e[r];o^=s[r%4],e[r]=o}return tywx[x].utf8Decode(e)},reconnet:function(){tywx.StateInfo[y]&&tywx[r][s]==tywx[r][g]&&(tywx[a][u](tywx[f].TCP_RECONNECT),tywx[r].connect(tywx.SystemInfo.webSocketUrl))},sendMsg:function(e){try{if(tywx[r][s]!=tywx[r][o])return;var t=JSON[S](e);-1==tywx[r][w].indexOf(e.cmd)&&tywx[m](tywx[r].TAG,"TCP sendMsg:"+t),tywx[v]()&&wx.sendSocketMessage({data:t,success:function(e){tywx[m](tywx[r].TAG,"TCP sendMsg success:"+JSON[S](e))},fail:function(e){var t=e[0];t&&"sendSocketMessage:fail taskID not exist"===t.errMsg&&(wx[T](),tywx[r][s]=tywx[r][g]),tywx[m](tywx[r].TAG,"TCP sendMsg fail:"+JSON[S](arguments))},complete:function(e){}})}catch(e){tywx.LOGE(E,"tywx.TCPClient.sendMsg——"+JSON[S](e))}},close:function(){try{tywx[r][s]=tywx[r].CONNECT_STATUS_CLOSING,tywx[v]()&&wx[T](),tywx[r].stopCheckTimer(),tywx[m](tywx[r].TAG,"TCP close..............")}catch(e){tywx.LOGE(E,"tywx.TCPClient.close——"+JSON[S](e))}}},cc._RF.pop()},{}],Timer:[function(e,t,n){"use strict";var r="_TAG",i="tywx.Timer",s="getScheduler",o="director";cc._RF.push(t,"ba784AdztZMj4ZVtOeLhBiu","Timer"),tywx.Timer={setTimer:function(e,t,n,l,c){e&&e[r]&&tywx.LOGD(i,"----------in setTimer----------"+(e[r]?e[r]:""));var h=cc[o][s]();null!=l||cc.macro.REPEAT_FOREVER,h.schedule(t,e,n,l,c,!1)},cancelTimer:function(e,t){e&&e[r]&&tywx.LOGD(i,"----------in cancelTimer ---------"+(e[r]?e[r]:"")),cc[o][s]().unschedule(t,e)},isScheduledTimer:function(e,t){return e&&e[r]&&tywx.LOGD(i,"----------in isScheduledTimer ---------"+(e[r]?e[r]:"")),cc[o][s]().isScheduled(t,e)}},cc._RF.pop()},{}],Util:[function(e,t,n){"use strict";var r="Util",i="0123456789abcdef",s="getItemFromLocalStorage",o="LOCAL_UUID_KEY",u="getStorageSync",a="localStorage";cc._RF.push(t,"69d96c2FRpJoIokQBtnNxHk",r),tywx[r]={isSceneQrCode:function(e){return[1047,1048,1049].indexOf(e)>-1},createUUID:function(){for(var e=[],t=0;t<36;t++)e[t]=i.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=i.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="",e.join("")},checkLocalUUID:function(){return""!=tywx[r][s](o,"")},getLocalUUID:function(){var e=tywx[r][s](o,"");return e||(e=tywx[r].createUUID(),tywx[r].setItemToLocalStorage(o,e)),e},getItemFromLocalStorage:function(e,t){try{if(wx&&wx[u]){var n=wx[u](e);if(n)return n}else{var r=cc.sys[a].getItem(e);if(r)return r}return t}catch(e){return t}},setItemToLocalStorage:function(e,t){try{wx&&wx[u]?wx.setStorage({key:e,data:t+""}):cc.sys[a].setItem(e,t+"")}catch(e){tywx.LOGE("tywx.Util","setItemToLocalStorage fail")}}},cc._RF.pop()},{}],gamemain:[function(e,t,n){"use strict";var r="getAllgz",i="getAllmask",s="block",o="geziNumber",u="gameState",a="g_mask_samecnt",f="lianjiNumber",l="gamestatetime",c="gamestate",h="g_clickid",p="move_time",d="lianjiEffects",v="showphy_pros",m="gezi_pitch",g="step",y="getrandomnum",b="checkmaskbyid",w="effecttime",E="maxphy_value",S="checkDirPaths",x="prerandomnumber",T="effectid",N="speed_keep",C="settoblock",k="maxnum",L=null,A="waitclick",O="node",M="score",_="resetAllMask",D="setnum",P="point",H="visibleControllButton",B="id_dest",j="id_keep",F="actiontime_keep",I="active",q="getComponent",R="posx",U="settoblockvalue",z="posy",W="Label",X="maxscore";cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","gamemain");var V=e("AddOneConfig"),$=e("GeZi"),J=e("GeZiMask");cc.Class({"extends":cc.Component,properties:{label:{"default":L,type:cc[W]},num:{"default":[],type:cc[W]},GameOver:{"default":L,type:cc[W]},effect:{"default":L,type:cc.Prefab},gameOut:{"default":L,type:cc.Sprite},bg:cc.Node,star:cc.Sprite,star1:cc.Sprite,restart:cc.Button,score:0,point:V[E],g_mask_samecnt:0,g_clickid:-1,gamestate:"null",gamestatetime:0,maxnum:5,lianjiNumber:1,g_gezi:[],g_mask:[]},onLoad:function(){this.label.string=this[M];for(var e=0;e<V[o];e++){var t=new cc.Node
(O),n=t.addComponent(cc[W]);n.string="",n.fontSize=64,n.lineHeight=64;var s=new cc.color(255,255,255,255);t.position=cc.p(0,0),t.color=s,t.parent=this[O],this.num.push(n);var u=new $(e,this);this[r]().push(u);var a=new J(e,this);this[i]().push(a)}var f=this;this[O].on("touchend",function(e){var t=e.touch.getLocation();f.touchEndCallback(t.x,t.y)}),this[x]=0,this.initgame();var l=cc.instantiate(this.effect);this[O].parent.addChild(l),l.x=140,l.y=90},ctor:function(){},getAllgz:function(){return this.g_gezi},getAllmask:function(){return this.g_mask},touchEndCallback:function(e,t){if(this[c]==V[u][A])for(var n=0;n<V[o];n++)if(e>this[r]()[n][R]&&e<this[r]()[n][R]+V.gezi_size&&t>this[r]()[n][z]&&t<this[r]()[n][z]+V.gezi_size){var i=this[r]()[n].num+1;this[r]()[n][D](i),this[r]()[n][C](),this[r]()[n][s][T]=0,this[r]()[n][s][w]=.5,i>this[k]&&(this[k]=i),this[h]=n,this[c]=V[u].checkclick;break}},update:function(e){if(this.label.string=this[M],this.drawPhyPoint(),this[r]().length==V[o])for(var t=0;t<V[o];t++)this[r]()[t][s].tickmove(e),this[r]()[t][s].tickeffect(e,this.star,this.star1),this[r]()[t].draw(this.bg[q](cc.Graphics),this.num[t]);switch(this[c]){case V[u].checkclick:this[_]();var n=this[r]()[this[h]].num;if(this[f]=1,this[b](this[h],0),this[a]>=V.minCanRemoveNumber){this[c]=V[u].domove,this[l]=V[p],this[M]+=V.baseScore*(this[a]-1)*n;for(t=0;t<V[o];t++)999!=this[i]()[t][g]&&0!=this[i]()[t][g]&&(this[r]()[t][s][N]=V[m]*this[i]()[t][g]/V[p],this[r]()[t][s][F]=V[p]/this[i]()[t][g],this[r]()[t][s][j]=t,this[r]()[t][s][B]=this[i]()[t].from,this[r]()[t][s].adjustmove())}else this[c]=V[u][A],this[P]--,this[P]<=0&&this.gameOverCallBack();break;case V[u].domove:this[l]-=e,this[l]<=0&&this.dealDoMove();break;case V[u].dodrop:this[l]-=e,this[l]<=0&&this.dealLianJiLogic()}},dealDoMove:function(){this.star[O][I]=!1,this[c]=V[u].dodrop,this[l]=V[p];var e=this[r]()[this[h]].num+1;this[r]()[this[h]][D](e),this[r]()[this[h]][C](),this[r]()[this[h]][s][T]=1,this[r]()[this[h]][s][w]=.5,e>this[k]&&(this[k]=e,this.maxScoreShow()),this.refreshbymask()},maxScoreShow:function(){tywx.LOGD("产生最大数字",this[k])},dealLianJiLogic:function(){for(var e=!1,t=0;t<V[o];t++){this[_]();var n=this[r]()[t].num;if(this[b](t,0),this[a]>=3){this[c]=V[u].domove,this[l]=V[p],this[f]++,this[M]+=V.baseScore*n*(this[a]-1);for(var d=0;d<25;d++)999!=this[i]()[d][g]&&0!=this[i]()[d][g]&&(this[r]()[d][s][N]=V[m]*this[i]()[d][g]/V[p],this[r]()[d][s][F]=V[p]/this[i]()[d][g],this[r]()[d][s][j]=d,this[r]()[d][s][B]=this[i]()[d].from,this[r]()[d][s].adjustmove());e=!0,this[h]=t,this[P]<5&&this[P]++;break}}0==e&&(this[c]=V[u][A],this.dealLianJiNumber())},dealLianJiNumber:function(){this[f]>V[d].sgood&&this[f]<V[d].cgood||this[f]>V[d].cgood&&this[f]<V[d].hhgood||this[f]>V[d].hhgood&&(this[f],V[d].maxgood)},drawPhyPoint:function(){var e=this.bg[q](cc.Graphics);e.clear();for(var t=0;t<this[P];t++){var n=V[v].colors[t];e.fillColor=cc.color(n[0],n[1],n[2]);var r=(V.swidth-(V[v].phy_num-(V[E]-this[P]))*V[m])/2+(V[v].width+10)*t,i=V[v].width,s=V[v].height;e.roundRect(r,980,i,s,V[v].radius),e.fill()}},visibleControllButton:function(e){this.restart[O][I]=e,this.GameOver[O][I]=e,this.gameOut[O][I]=e},gameOverCallBack:function(){this[c]=V[u].gameover,this[H](!0)},initgame:function(){this[M]=0,this[P]=V[E],this[k]=V[E];for(var e=0;e<V[o];e++){var t=this[y]();this[r]()[e][D](t),this[r]()[e][C]()}for(var n=!0;1==n;){n=!1;for(e=0;e<V[o];e++)this[_](),this[b](e,0),this[a]>=3&&(this.changenumbymask(),n=!0)}this[c]=V[u][A],this[H](!1)},resetAllMask:function(){for(var e=0;e<V[o];e++)this[i]()[e].reset();this[a]=1},checkmaskbyid:function(e,t){this[i]()[e][g]=t,this[S](e,t,0,-1),this[S](e,t,0,-5),this[S](e,t,4,1),this[S](e,t,4,5)},checkDirPaths:function(e,t,n,r){return(4!=Math.abs(r)||L==this[i]()[e]||this[i]()[e].y!=n)&&(1!=Math.abs(r)||L==this[i]()[e]||this[i]()[e].x!=n)&&L!=this[i]()[e]&&L!=this[i]()[e+r]&&!(this[i]()[e+r].num!=this[i]()[e].num||this[i]()[e+r][g]<=t)&&(999==this[i]()[e+r][g]&&this[a]++,this[i]()[e+r][g]=t,this[i]()[e+r].from=e,void this[b](e+r,t+1,n,r))},changenumbymask:function(){for(var e=0;e<V[o];e++)if(999!=this[i]()[e][g]&&0!=this[i]()[e][g]){var t=this[y]();this[r]()[e][D](t),this[r]()[e][C]()}},getrandomnum:function(){var e=this[k]-2;e<5&&(e=5);var t=parseInt(1e4*Math.random())%e+1;return this[x]==t?this[y]():(this[x]=t,t)},refreshbymask:function(){for(var e=0;e<V[o];e++)if(999!=this[i]()[e][g]&&0!=this[i]()[e][g]){this[i]()[e].from=-1;for(var t=-1,n=e+5;n<V[o];){if(999==this[i]()[n][g]||0==this[i]()[n][g]){t=n;break}n+=5}if(-1!=t){var u=this[i]()[t].y-this[i]()[e].y;this[r]()[e][s][R]=this[r]()[t][R],this[r]()[e][s][z]=this[r]()[t][z],this[r]()[e][s][j]=t,this[r]()[e][s][B]=e,this[r]()[e][s][N]=u*V[m]/V[p],this[r]()[e][s].adjustdrop(),this[r]()[t][g]=888;var a=this[y]();this[r]()[e][D](a),this[r]()[e][U](),this[r]()[e][s][T]=this[r]()[t][s][T],this[r]()[e][s][w]=this[r]()[t][s][w],this[r]()[t][s][T]=-1,this[r]()[t][s][w]=0}else u=5-this[i]()[e].y,this[r]()[e][s][R]=this[r]()[e][R],this[r]()[e][s][z]=this[r]()[e][z]+u*V[m],this[r]()[e][s][j]=-1,this[r]()[e][s][B]=e,this[r]()[e][s][N]=u*V[m]/V[p],this[r]()[e][s].adjustdrop(),a=this[y](),this[r]()[e][D](a),this[r]()[e][U]()}},backFirstPage:function(){tywx.Util.getItemFromLocalStorage(X,0)<this[M]&&tywx.Util.setItemToLocalStorage(X,this[M]),tywx.publicwx&&wx.postMessage({method:4,score:this[M]}),cc.director.loadScene("gamestart",this.destroyFinish)},destroyFinish:function(){this[O]&&this[O].destroy()}}),cc._RF.pop()},{AddOneConfig:"AddOneConfig",GeZi:"GeZi",GeZiMask:"GeZiMask"}],gamestart:[function(e,t,n){"use strict";function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r="publicwx",i=null,s="Button",o="sharedCanvas",u="showPhb",a="_updateSubDomainCanvas",f="initWithElement",l="handleLoadedTexture",c="spriteFrame",h="phbSprite",p="SpriteFrame",d="postMessage",v="ShareInterface",m="log",g="getComponent",y="ShareButton",b="setErrorCall",w="分享失败后处理的回调函数 ",E="active",S="node",x="loadFinishCallBack",T;cc._RF.push(t,"8ba15DE9d9OK5/fQtsc43VN","gamestart"),e("AddOneConfig"),tywx[r]=!0,cc.Class((N(T={"extends":cc.Component,properties:{startButton:{"default":i,type:cc[s]},audioCtr:{"default":i,type:cc[s]},gameScore:{"default":i,type:cc.Label},phb:{"default":i,type:cc[s]},method:{"default":i,type:cc[s]},phbSprite:{"default":i,type:cc.Sprite},shareBtn:{"default":i,type:cc.Node},groupBtn:{"default":i,type:cc.Node},icon:cc.Sprite},_updateSubDomainCanvas:function(){},start:function(){tywx[r]&&(this.tex=new cc.Texture2D,window[o].width=650,window[o].height=560),this[u]=!1}},a,function(){if(this.tex){var e=wx.getOpenDataContext().canvas;this.tex[f](e),this.tex[l](),this[h][c]=new cc[p](this.tex)}}),N(T,"ctor",function(){}),N(T,"update",function(e){tywx[r]&&this[a]()}),N(T,"onLoad",function(){if(tywx[r]){window.wx[d]({method:3});var e=tywx[v].getRandomOnShareAppMessageInfo();e&&(tywx[v].setOnShareAppMessageInfo(e.title,e.imageUrl,e.sharePointId,e.shareSchemeId),console[m]("当前获得的分享信息 = "+JSON.stringify(e)));var t=this.shareBtn[g](y);t&&(t[b](function(e){console[m](w,e)}),t.setSuccessCall(function(e){console[m]("分享成功后处理的回调函数 ",e)}));var n=this.groupBtn[g](y),i=this;n&&(n.setShareGroupCall(function(e){console[m]("群组成功后处理的回调函数 ",e),console[m]("群组成功后处理的回调函数 self ",i),i[u]?(i[h][S][E]=!1,i[u]=!1):(i[h][S][E]=!0,i[u]=!0),window.wx[d]({method:2,MAIN_MENU_NUM:"x1",shareTicket:e.shareTickets[0]})}),n[b](function(e){console[m](w,e)}))}var s=tywx.Util.getItemFromLocalStorage("maxscore",0);s?(console[m]("score = "+s),this.gameScore.string=s):console[m]("当前分数不存在")}),N(T,"showPlayMethod",function(){if(tywx[r]){var e=wx.createImage(),t=this;e.src="https://wx.qlogo.cn/mmopen/vi_32/U8XaLGeVibpjlibN0cJGiah2TTKarQdEI0QazibrrrsNibhMC2TrmscXQdfGEF4icW0B6A7TjjheTWpQiaD8wNhp3qZQQ/132",e.onload=function(e){try{var n=new cc.Texture2D;n[f](r),n[l](),t.icon[c]=new cc[p](n)}catch(r){cc[m]("图片加载失败")}}}}),N(T,"showPhbView",function(){this[u]?(this[h][S][E]=!1,this[u]=!1):(this[h][S][E]=!0,this[u]=!0),tywx[r]&&wx[d]({method:1,MAIN_MENU_NUM:"x1"})}),N(T,x,function(){this[S]&&this[S].destroy()}),N(T,"setScore",function(e){i!=e&&(this.gameScore.string=Math.abs(e))}),N(T,"startGame",function(){cc.director.loadScene("gamemain",this[x])}),N(T,"shareApp",function(){tywx.IsWechatPlatform()&&wx.shareAppMessage({title:"赶紧加入我们，一起愉快的玩耍吧...",imageUrl:"https://gss0.bdstatic.com/7Ls0a8Sm1A5BphGlnYG/sys/portrait/item/d68bced2b5c4b7dcb6b73838383d02.jpg?20180808115403"})}),T)),cc._RF.pop()},{AddOneConfig:"AddOneConfig"}]},{},["AdManager","BiStatLog","Bilog","EncodeDecode","EventType","HttpUtil","NotificationCenter","PropagateInterface","ShareInterface","TCPClient","Timer","Util","gamemain","gamestart","AddOneConfig","Audio","Effect","GeZi","GeZiData","GeZiMask","ShareButton"]);